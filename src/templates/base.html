{# Provide some common macros #}

{% macro heading(text, class="", linkable=True, sublevel=0) %}
{# sublevel=0 for an ordinary header, 1 for a sub-heading, 2 for a sub-sub-heading, etc #}
<h{{ sublevel+1 }} id="{{ text|into_tag }}"{% if class %} class="{{ class }}"{% endif %}>
		{% if linkable %}<a class="anchored-header" href="#{{ text|into_tag }}">{% endif %}
		{% if linkable%}<span class="fa fa-paragraph" title="Permalink to this headline"></span>{% endif %}
		{{ text }}
		{% if linkable %}</a>{% endif %}
</h{{ sublevel+1 }}>
{% endmacro %}

{% macro show_image(image) %}
{# Used to show an image in the center of the screen.
   This also configures the link to a full-screen version #}

<a href="{{ image.path|to_rel_path }}">
		<img src="{{ image.path|to_rel_path }}" width="{{ image.size.0 }}px" height="{{ image.size.1 }}px" class="theater-image"/>
</a>
{% endmacro %}

{% macro offsite_link(path, label) %}
{# Use whenever linking to an off-site resource.
   This was we can indicate it's off-site (with an icon, etc), etc #}
<a href="{{ path }}">{{ label }}</a>
{% endmacro %}

{% if not query_type %}
<!DOCTYPE html>
<html>
		<head>
			<meta charset="utf-8">
			<meta name="viewport" content="width=device-width initial-scale=1" />
			<meta name="description" content="Weblog/homepage for an artist/developer/engineer. DIY build logs, opinions and artwork" />
			<link rel="stylesheet" href="{{ resources["css/global.css"].path|to_rel_path }}">
			<link rel="stylesheet" href="{{ "res/font-awesome/css/font-awesome.min.css"|to_rel_path }}">
			<title>{% block title %}{{ page.title }}{% endblock %}</title>
		</head>
		<body>
			<header class="nav-header">
					{# Derivative templates are expected to
						{% set is_page_xxx = True %} for at least one page #}
					<ul class="nav-ul">
							<li class="nav-li-blog{{ " active" if page.__class__ == HomePage else ""}}">
									<a href="{{ pages["/"].path|to_rel_path }}">Blog</a>
							</li>
							<li class="nav-li-about{{ " active" if page.__class__ == AboutPage else "" }}">
									<a href="{{ pages["about"].path|to_rel_path }}">About</a>
							</li>
					</ul>
			</header>
			<div class="page-content">
					{% block page_content %}{% endblock %}
			</div>
			<footer class="glob-footer">
					<div class="footer-social">
							<a class="email fa fa-envelope" href="mailto:{{ social.contact_email }}"></a>
							<a class="github fa fa-github" href="{{ social.github_url }}"></a>
							<a class="twitter fa fa-twitter" href="{{ social.twitter_url }}"></a>
					</div>
					<p class="footer-legal">
							Unless otherwise stated, all code snippets, artwork or writings hosted on this website are released into the public domain.
							<a href="{{ pages["about"].path|to_rel_path}}#{{ "License / Attributions"|into_tag }}">More info</a>.
					</p>
			</footer>
		</body>
</html>
{% endif %}

